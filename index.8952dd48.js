const e=document.querySelector("#search-form"),t=document.querySelector('input[name="searchQuery"]'),s=document.querySelector(".gallery"),n=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Load more",this.refs.spinner.classList.add("is-hidden"),this.refs.button.classList.remove("is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="Loading...",this.refs.spinner.classList.remove("is-hidden"),this.refs.button.classList.add("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:".load-more",hidden:!0}),i=new class{fetchHits(e){console.log(this);const t=`https://pixabay.com/api/?key=32070440-da23fcdb10bb13069c595106c&q=${this.searchQuery}&image_type=photo&lang=en&orientation=horizontal&safesearch=true&page=${this.page}&per_page=40`;return fetch(t).then((e=>e.json())).then((({hits:e})=>(this.incrementPage(),e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}};e.addEventListener("submit",(function(e){if(e.preventDefault(),i.query=t.value,""===i.query)return alert("Please enter a value to search for results");n.disable(),n.show(),i.resetPage(),console.log(i.query),i.fetchHits("").then((e=>{s.innerHTML="",r(e),n.enable()}))})),n.refs.button.addEventListener("click",(function(e){n.disable(),n.show(),i.fetchHits("").then((e=>{r(e),n.enable()}))}));function r(e){s.insertAdjacentHTML("beforeend",function(e){const t=e.map((e=>`<div class="photo-card">\n                <img class="img-card" src="${e.webformatURL}" alt="${e.tags}" loading="lazy"/>\n                <div class="info">\n                  <p class="info-item">\n                  <b>Likes</b> ${e.likes}\n                  </p>\n                  <p class="info-item">\n                  <b>Views</b> ${e.views}\n                  </p>\n                  <p class="info-item">\n                  <b>Comments</b> ${e.comments}\n                  </p>\n                  <p class="info-item">\n                  <b>Downloads</b> ${e.downloads}\n                  </p>\n              </div>\n            </div>`)).join("");s.innerHTML=t}(e))}
//# sourceMappingURL=index.8952dd48.js.map
