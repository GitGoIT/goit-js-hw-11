{"mappings":"AAEA,MAAMA,EAAaC,SAASC,cAAc,gBACpCC,EAAQF,SAASC,cAAc,6BAC/BE,EAAgBH,SAASC,cAAc,YACvCG,EAAcJ,SAASC,cAAc,cAErCI,EAAiB,ICPR,MAOXC,UAAUC,GACNC,QAAQC,IAAIC,MACZ,MAAMC,EAAM,qEAAqED,KAAKH,oFAAoFG,KAAKE,mBAEnL,OAAOC,MAAMF,GACmBG,MAAtBC,GAAKA,EAAEC,SACeF,MAAtBG,IACFP,KAAKQ,gBACuDV,QAApDC,IAAIQ,GACLA,EAAKE,O,CAIxBD,gBACIR,KAAKE,MAAQ,C,CAGjBQ,YACIV,KAAKE,KAAO,C,CAGZS,YACA,OAAOX,KAAKH,W,CAEZc,UAAMC,GACNZ,KAAKH,YAAce,C,CA9BnBC,cACIb,KAAKH,YAAc,GACnBG,KAAKE,KAAO,C,GDKsBb,EAA/ByB,iBAAiB,UAK0C,SAApDC,GAGY,GAF1BA,EAAEC,iBAC8CrB,EAAjCgB,MAAQnB,EAAMyB,MACA,KAAzBtB,EAAegB,MACf,OAAOO,MAAM,8CAEjBvB,EAAee,YACgDZ,QAAvDC,IAAIJ,EAAegB,OAC3BhB,EAAeC,UAVD,IAW2BQ,MAA/BK,IAgBVhB,EAAc0B,UAAY,GAdsCC,EAAvCX,EAAK,G,IAfdf,EAARoB,iBAAiB,SAmB7B,SAAoBC,GAChBpB,EAAeC,UAlBD,IAmB2BQ,KAA/BgB,E,IAGd,SAASA,EAAiBX,GACtBhB,EAAc4B,mBAAmB,YAOrC,SAAiBZ,GACb,MAAMa,EAASb,EAAKc,KAAIC,GACb,wEAC8BA,EAAIC,sBAAsBD,EAAIE,uIAG1CF,EAAIG,0GAGJH,EAAII,6GAGDJ,EAAIK,iHAGHL,EAAIM,gFAKpCC,KAAK,IAC4EtC,EAApE0B,UAAYG,C,CA5BoBU,CAAQvB,G","sources":["src/index.js","src/js-components/news-service.js"],"sourcesContent":["import NewsApiService from './js-components/news-service' // імпортуємо окремо винесений метод роботи з методу роботи з API\n\nconst searchForm = document.querySelector('#search-form');     // отримуємо доступ до форми\nconst input = document.querySelector('input[name=\"searchQuery\"]');     // отримуємо доступ до інпуту\nconst hitsContainer = document.querySelector('.gallery');  // отримуємо доступ до поля карток\nconst loadMoreBtn = document.querySelector('.load-more');  // отримуємо доступ до пкнопки дозавантаження\n\nconst newsApiService = new NewsApiService(); // створюємо новий об'єкт для обробки методу роботи з API\n\nsearchForm.addEventListener('submit', onSearch)  // слухач для форми пошуку\nloadMoreBtn.addEventListener('click', onLoadMore)  // слухач для кнопки дозавантаження\n\nlet searchQuery = ''; // оголошуємо глобальну змінну для можливості роботи з нею окремовинисеного методу fetchArticles\n\nfunction onSearch(e) {  // функція першої загрузки результатів пошуку\n    e.preventDefault();   // знімаємо перезавантаження сторінки при роботі з формою\n    newsApiService.query = input.value; // отримуємо в обєкт дані з інпуту\n    if (newsApiService.query === '') {  // виводимо повідомлення в разі сабміту пустого інпуту\n        return alert('Please enter a value to search for results');\n    }\n    newsApiService.resetPage(); // додаємо на submit метод скдинання сторінки до 1-ї при новому пошуку (описуємо в класі NewsApiService)\n    console.log(newsApiService.query);\n    newsApiService.fetchHits(searchQuery) // викликаємо єдиний спільний метод роботи з API\n        .then(hits => {\n            clearHitsContainer(); // чистимо контейнер перед завантаженням даними наступного пошуку\n            appendHitsMarkup(hits); // посилаємо для мапінгу в дом значення об'єктів даних\n        });\n}\n\nfunction onLoadMore(e) { // функція наступних догрузок результатів пошуку\n    newsApiService.fetchHits(searchQuery)  // викликаємо єдиний спільний метод роботи з API\n        .then(appendHitsMarkup); // посилаємо для мапінгу в дом значення об'єктів даних\n}\n    \nfunction appendHitsMarkup(hits) { // функція загрузки в контейнер та мапінгу в дом значення об'єктів даних\n    hitsContainer.insertAdjacentHTML('beforeend', hitsTpl(hits)); \n}\n\nfunction clearHitsContainer() { // функція очистки контейнеру перед мапінгом в дом значень іншого пошуку\n    hitsContainer.innerHTML = '';\n}\n\nfunction hitsTpl(hits) { // функцію шаблону мапінгу результатів фетчу в дом\n    const markup = hits.map(hit => { // мапимо дані з API в заготовку html для картки\n        return `<div class=\"photo-card\">\n                <img class=\"img-card\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" loading=\"lazy\"/>\n                <div class=\"info\">\n                  <p class=\"info-item\">\n                  <b>Likes</b> ${hit.likes}\n                  </p>\n                  <p class=\"info-item\">\n                  <b>Views</b> ${hit.views}\n                  </p>\n                  <p class=\"info-item\">\n                  <b>Comments</b> ${hit.comments}\n                  </p>\n                  <p class=\"info-item\">\n                  <b>Downloads</b> ${hit.downloads}\n                  </p>\n              </div>\n            </div>`;\n    })\n    .join(''); // об'єднуємо всі елементи масиву в строку та розділяємо 'пробілом' (прибираємо коми за замовчуванням)\n    hitsContainer.innerHTML = markup; // прописуємо новий html картки в домі\n}","export default class NewsApiService { // створюємо окремий класс для роботи з АРІ\n\n    constructor() {\n        this.searchQuery = ''; // оголошуємо глобальну змінну в конструкторі для подальшого перезапису через метод get та set\n        this.page = 1; // вводимо параметер номера сторінки для можливості догрузки \n        \n    }\n    fetchHits(searchQuery) {  // формуємо єдиний метод який буде відповідати за HTTP запити\n        console.log(this);\n        const url = `https://pixabay.com/api/?key=32070440-da23fcdb10bb13069c595106c&q=${this.searchQuery}&image_type=photo&lang=en&orientation=horizontal&safesearch=true&page=${this.page}&per_page=40`\n    \n    return fetch(url)  //забираємо проміс даних по лінку API\n        .then(r => r.json()) //парсимо дані в текстовий формат json\n        .then(data => {    \n            this.incrementPage(); // догружаємо сторінки з даними при кожному кліку на load more(метод описаний нижче)\n            console.log(data)\n            return data.hits; // повертаємо у зовнішній код проміс значення об'єкту даних\n        })     \n    } \n\nincrementPage() { // прописуємо метод збільшення номеру сторінки до наступної при кліку на load more\n    this.page += 1;\n}\n\nresetPage() { // прописуємо метод скидання номеру сторінки до 1-ї при новому пошуку\n    this.page = 1;\n}\n\nget query() { //  прописуємо в конструктор медот для отримання змінної \n    return this.searchQuery;\n    }\nset query(newQuery) { //  прописуємо в конструктор медот для перезапису змінної \n    this.searchQuery = newQuery;    \n}\n}\n\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","querySelector","$1f0dc3b9307be026$var$input","$1f0dc3b9307be026$var$hitsContainer","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$newsApiService","fetchHits","searchQuery","console","log","this","url","page","fetch","then","r","json","data","incrementPage","hits","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","value","alert","innerHTML","$1f0dc3b9307be026$var$appendHitsMarkup","insertAdjacentHTML","markup","map","hit","webformatURL","tags","likes","views","comments","downloads","join","$1f0dc3b9307be026$var$hitsTpl"],"version":3,"file":"index.27e104b8.js.map"}