{"mappings":"AAEA,MAAMA,EAAaC,SAASC,cAAc,gBACpCC,EAAQF,SAASC,cAAc,6BAC/BE,EAAoBH,SAASC,cAAc,YAC3CG,EAAcJ,SAASC,cAAc,cAErCI,EAAiB,ICPR,MAMXC,cAAcC,GACVC,QAAQC,IAAIC,MACZ,MAAMC,EAAM,qEAAqED,KAAKH,oEAAoEG,KAAKE,mBAEnK,OAAOC,MAAMF,GACmBG,MAAtBC,GAAKA,EAAEC,SACeF,MAAtBG,IACFP,KAAKQ,gBACuDV,QAApDC,IAAIQ,GACLA,EAAKE,W,CAIxBD,gBACIR,KAAKE,MAAQ,C,CAGjBQ,YACIV,KAAKE,KAAO,C,CAGZS,YACA,OAAOX,KAAKH,W,CAEZc,UAAMC,GACNZ,KAAKH,YAAce,C,CA9BnBC,cACIb,KAAKH,YAAc,GACnBG,KAAKE,KAAO,C,GDMsBb,EAA/ByB,iBAAiB,UAK0C,SAApDC,GAGY,GAF1BA,EAAEC,iBAC8CrB,EAAjCgB,MAAQnB,EAAMyB,MACA,KAAzBtB,EAAegB,MACf,OAAOO,MAAM,8CAEjBvB,EAAee,YACgDZ,QAAvDC,IAAIJ,EAAegB,OAC3BhB,EAAeC,cAVD,IAW2BQ,MAA/BK,IAgBVhB,EAAkB0B,UAAY,GAdkCC,EAAnCX,EAAS,G,IAftBf,EAARoB,iBAAiB,SAmB7B,SAAoBC,GAChBpB,EAAeC,cAlBD,IAmB2BQ,KAA/BgB,E,IAGd,SAASA,EAAqBX,GAC1BhB,EAAkB4B,mBAAmB,YAAaC,YAAYb,G","sources":["src/index.js","src/js-components/news-service.js"],"sourcesContent":["import NewsApiService from './js-components/news-service' // імпортуємо окремо винесений метод роботи з методу роботи з API\n\nconst searchForm = document.querySelector('#search-form');     // отримуємо доступ до форми\nconst input = document.querySelector('input[name=\"searchQuery\"]');     // отримуємо доступ до інпуту\nconst articlesContainer = document.querySelector('.gallery');  // отримуємо доступ до поля карток\nconst loadMoreBtn = document.querySelector('.load-more');  // отримуємо доступ до пкнопки дозавантаження\n\nconst newsApiService = new NewsApiService(); // створюємо новий об'єкт для обробки методу роботи з API\n\nsearchForm.addEventListener('submit', onSearch)  // слухач для форми пошуку\nloadMoreBtn.addEventListener('click', onLoadMore)  // слухач для кнопки дозавантаження\n\nlet searchQuery = ''; // оголошуємо глобальну змінну для можливості роботи з нею окремовинисеного методу fetchArticles\n\nfunction onSearch(e) {  // функція першої загрузки результатів пошуку\n    e.preventDefault();   // знімаємо перезавантаження сторінки при роботі з формою\n    newsApiService.query = input.value; // отримуємо в обєкт дані з інпуту\n    if (newsApiService.query === '') {  // виводимо повідомлення в разі сабміту пустого інпуту\n        return alert('Please enter a value to search for results');\n    }\n    newsApiService.resetPage(); // додаємо на submit метод скдинання сторінки до 1-ї при новому пошуку (описуємо в класі NewsApiService)\n    console.log(newsApiService.query);\n    newsApiService.fetchArticles(searchQuery) // викликаємо єдиний спільний метод роботи з API\n        .then(articles => {\n            clearArticlesContainer(); // чистимо контейнер перед завантаженням даними наступного пошуку\n            appendArticlesMarkup(articles); // посилаємо для мапінгу в дом значення об'єктів даних\n        });\n}\n\nfunction onLoadMore(e) { // функція наступних догрузок результатів пошуку\n    newsApiService.fetchArticles(searchQuery)  // викликаємо єдиний спільний метод роботи з API\n        .then(appendArticlesMarkup); // посилаємо для мапінгу в дом значення об'єктів даних\n}\n    \nfunction appendArticlesMarkup(articles) { // функція загрузки в контейнер та мапінгу в дом значення об'єктів даних\n    articlesContainer.insertAdjacentHTML('beforeend', articlesTpl(articles)); \n}\n\nfunction clearArticlesContainer() { // функція очистки контейнеру перед мапінгом в дом значень іншого пошуку\n    articlesContainer.innerHTML = '';\n}","export default class NewsApiService { // створюємо окремий класс для роботи з АРІ\n    constructor() {\n        this.searchQuery = ''; // оголошуємо глобальну змінну в конструкторі для подальшого перезапису через метод get та set\n        this.page = 1; // вводимо параметер номера сторінки для можливості догрузки \n        \n    }\n    fetchArticles(searchQuery) {  // формуємо єдиний метод який буде відповідати за HTTP запити\n        console.log(this);\n        const url = `https://pixabay.com/api/?key=32070440-da23fcdb10bb13069c595106c&q=${this.searchQuery}&image_type=photo&lang=en&orientation=horizontal&page=${this.page}&per_page=40`\n    \n    return fetch(url)  //забираємо проміс даних по лінку API\n        .then(r => r.json()) //парсимо дані в текстовий формат json\n        .then(data => {    \n            this.incrementPage(); // догружаємо сторінки з даними при кожному кліку на load more(метод описаний нижче)\n            console.log(data)\n            return data.articles; // повертаємо у зовнішній код проміс значення об'єкту даних\n        })     \n    } \n\nincrementPage() { // прописуємо метод збільшення номеру сторінки до наступної при кліку на load more\n    this.page += 1;\n}\n\nresetPage() { // прописуємо метод скидання номеру сторінки до 1-ї при новому пошуку\n    this.page = 1;\n}\n\nget query() { //  прописуємо в конструктор медот для отримання змінної \n    return this.searchQuery;\n    }\nset query(newQuery) { //  прописуємо в конструктор медот для перезапису змінної \n    this.searchQuery = newQuery;    \n}\n}\n\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","querySelector","$1f0dc3b9307be026$var$input","$1f0dc3b9307be026$var$articlesContainer","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$newsApiService","fetchArticles","searchQuery","console","log","this","url","page","fetch","then","r","json","data","incrementPage","articles","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","value","alert","innerHTML","$1f0dc3b9307be026$var$appendArticlesMarkup","insertAdjacentHTML","articlesTpl"],"version":3,"file":"index.05d694e0.js.map"}